$cell-padding: 1.25em;

/* Class-Based Styles */
.rs-list-table,
%rs-list-table {
  width: 100%;
  margin-top: 1em;
  margin-bottom: 1.25em;
  text-align: left;
  border-collapse: collapse;
  position: relative;
}

.rs-tab-content {
  .rs-list-table,
  .rs-table,
  table{
    margin: 0;
  }
}

.rs-table-row,
%rs-table-row {
  .rs-select-table &:hover,
  &.hover {
    .rs-table-cell, td {
      background-color: $grey200;
    }
  }
  &.selected {
    .rs-table-cell, td {
      background-color: $cyan50;
    }
  }
  &.selected:hover, &.selected.hover {
    .rs-table-cell, td:not(.rs-table-status) {
      background-color: $cyan50;
    }
  }
  &.rs-heartbeat-ok {
    .rs-table-cell, td:not(.rs-table-status) {
      animation:heartbeat_success 3s;
      -webkit-animation:heartbeat_success 3s;
    }
  }
  &.rs-heartbeat-warning {
    .rs-table-cell, td:not(.rs-table-status) {
      animation:heartbeat_warning 3s;
      -webkit-animation:heartbeat_warning 3s;
    }
  }
  &.rs-heartbeat-error {
    .rs-table-cell, td:not(.rs-table-status) {
      animation:heartbeat_error 3s;
      -webkit-animation:heartbeat_error 3s;
    }
  }
}

.rs-table-header,
%rs-table-header {
  @extend .small;
  padding: 0.875em $cell-padding 0.875em $cell-padding;
  color: $grey800;
  line-height: 1em;
  text-transform: uppercase;
  border-bottom: 1px solid $grey300;
  text-align: inherit; // fix for IE (http://haslayout.net/css/Non-Inherited-TH-Text-Align-Bug)

  &.rs-table-status:before {
    content: '\00A0 ';
    width: 0.875em;
    display: block;
  }
}

.rs-table-cell,
%rs-table-cell {
  padding: $cell-padding;
  border-bottom: 1px solid $grey300;
}

.rs-table-compact {
  .rs-table-cell:not(.rs-table-status),
  %rs-table-cell:not(.rs-table-status),
  td:not(.rs-table-status) {
    padding: $cell-padding/2;
    @extend .small;
  }

  th:not(.rs-table-status),
  .rs-table-header {
    @extend .small;
    padding: 0.4375em $cell-padding/2 0.4375em $cell-padding/2;
  }

  .rs-table-text,
  .rs-table-link,
  .rs-table-link {
    @extend .small;
  }
}

.rs-table-text {
  padding: $cell-padding;
  line-height: 1em;
}

.rs-table-link {
  > a {
    display: block;
    margin: -$cell-padding;
    padding: $cell-padding;
  }
}

.rs-table-status {
  padding: 0;
  width: 0.875em;
}

.rs-table-checkbox,
.rs-table-radio,
.rs-table-cog {
  width: 1em;

  &+td,
  &+th {
    padding-left: 0;
  }
}


.rs-table-edit {
  width: $cell-padding;
  text-align: center;
}

.rs-table-delete {
  width: $cell-padding;
  text-align: center;
}

.rs-table-input {
  & input {
    margin: 0;
  }
}

.rs-table-select {
  & select {
    margin: 0;
  }
}

.rs-table-status-ok {
  background-color: $green700 !important;

  &.rs-table-status-striped {
    background-image: image-url('table-status-success.gif');
  }
}

.rs-table-status-warning,
.rs-table-status-processing {
  background-color: $yellow900 !important;

  &.rs-table-status-striped {
    background-image: image-url('table-status-warning.gif');
  }
}

.rs-table-status-error {
  background-color: $red700 !important;

  &.rs-table-status-striped {
    background-image: image-url('table-status-error.gif');
  }
}

.rs-table-status-disabled {
  background-color: $grey400 !important; // TODO This needs to change but want to wait and fix disabled everywhere
}

/* Table-Based Styles */
table {
  @extend %rs-list-table;
}

tr {
  @extend %rs-table-row;
}

th {
  @extend %rs-table-header;
}

td {
  @extend %rs-table-cell;
}

/* Sort Links */
.rs-table-sort {
  color: $grey800;

  &.hover,
  &:hover {
    color: $grey950;
    text-decoration: none;
  }
}

.rs-table-sort-text,
.rs-table-sort-indicator {
  display: inline-block;
  line-height: 1em;
}

.rs-table-sort-indicator {
  width: 9px;
  height: 5px;
  margin-bottom: 1px;
  margin-left: 5px;
}

.rs-table-sort-asc,
.rs-table-sort-desc {
  color: $grey900;
  font-family: 'Roboto Medium';
}

.rs-table-sort-asc > .rs-table-sort-indicator {
  @extend .rs-icon;
  @extend .rs-icon-sort-up;
  opacity: 0.5;
}

.rs-table-sort-asc.hover > .rs-table-sort-indicator,
.rs-table-sort-asc:hover > .rs-table-sort-indicator {
  opacity: 1;
}

.rs-table-sort-desc > .rs-table-sort-indicator {
  @extend .rs-icon;
  @extend .rs-icon-sort-down;
  opacity: 0.5;
}

.rs-table-sort-desc.hover > .rs-table-sort-indicator,
.rs-table-sort-desc:hover > .rs-table-sort-indicator {
  opacity: 1;
}

/* Base Table Overlay */
.rs-table-overlay {
  display: table;
  width: 100%;
  height: 20em;
  margin-top: -$cell-padding;
}

.rs-table-overlay-content {
  display: table-cell;
  vertical-align: middle;
  width: 100%;
  margin: 0 auto;
  text-align: center;
}

.rs-table-overlay-subtitle {
  color: $grey500;
}

.rs-table-overlay-title {
  @extend h1.light;
  margin-bottom: 0.25em;
  color: $grey800;
}

.rs-table-overlay-subtitle + .rs-table-overlay-message {
  margin-top: 8em;
}

.rs-table-overlay-message {
  @extend .small;
  color: $grey500;
}

/* Loading Overlay */
.rs-table-overlay-loading { 
  position: relative;
  
  .rs-table-overlay-message {
    color: $grey500;
    padding-top: 2.25em;

    &:before {
      position: absolute;
      display: block;
      content: '';
      left: 50%;
      margin-left: -16px;
      margin-top: -32px;
      width: 32px;
      height: 32px;
      background: url('icon-loading-circle.svg') no-repeat;
      background-size: contain;
      animation: spin 0.75s linear infinite;
    }
  }
}

/* Loading Error */
.rs-table-overlay-error .rs-table-overlay-message {
  color: $red900;

  .rs-icon-error-indicator {
    margin: 1px 5px 0 0;
  }
}
